{% extends "base.html" %}

{% block content %}
<section class="tree-section">
  <div class="tree-box">
    <h1 class="gradient-text">Binary Tree</h1>

    <!-- Display message -->
    {% if message %}
      <div class="message-box">{{ message }}</div>
    {% endif %}

    <form method="POST">
      <input type="text" name="value" placeholder="Enter node value" required>

      {% if root_exists %}
        <input type="text" name="parent" placeholder="Parent node value" required>
        <select name="side" required>
          <option value="left">Left</option>
          <option value="right">Right</option>
        </select>
      {% else %}
        <p>Please enter the <strong>root node</strong> first.</p>
      {% endif %}

      <button type="submit">Add Node</button>
    </form>

    <!-- Optional: show tree structure as JSON for now -->
    <div class="tree-display">
      <h2>Current Tree:</h2>
      <pre>{{ tree | tojson(indent=2) }}</pre>
    </div>
  </div>
</section>
{% endblock %}
